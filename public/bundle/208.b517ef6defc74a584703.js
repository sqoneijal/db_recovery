"use strict";(self.webpackChunkdb_recovery=self.webpackChunkdb_recovery||[]).push([[208],{208:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(4572),n=a(8152),s=a(7294),o=a(3760),l=a(7833),c=a(7463);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m=function(e){var t=e.openForms,a=e.setOpenForms,r=(e.detailContent,e.setDetailContent),i=e.pageType,m=e.setPageType,p=e.setRefreshTable,d=(0,s.useState)(!1),b=(0,n.Z)(d,2),v=b[0],f=b[1],g=(0,s.useState)({}),h=(0,n.Z)(g,2),E=h[0],Z=h[1],O=(0,s.useState)({}),y=(0,n.Z)(O,2),j=y[0],_=y[1],C=function(){a(!1),r({}),m("insert")};return s.createElement(s.Fragment,null,s.createElement(o.Z,{show:t,onHide:C,backdrop:"static",style:{width:"50%"}},s.createElement(o.Z.Header,{closeButton:!0},s.createElement(o.Z.Title,null,c.pageType(i)," Database")),s.createElement(o.Z.Body,null,s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"Hostname",value:c.parseObject(j,"hostname"),onChange:function(e){return _((function(t){return u(u({},t),{},{hostname:e.target.value})}))},isInvalid:c.is_invalid(E.hostname)}),s.createElement(l.Z.Label,{className:"required"},"Hostname"),c.msg_response(E.hostname)),s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"Username",value:c.parseObject(j,"username"),onChange:function(e){return _((function(t){return u(u({},t),{},{username:e.target.value})}))},isInvalid:c.is_invalid(E.username)}),s.createElement(l.Z.Label,{className:"required"},"Username"),c.msg_response(E.username)),s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"Password",value:c.parseObject(j,"password"),onChange:function(e){return _((function(t){return u(u({},t),{},{password:e.target.value})}))},isInvalid:c.is_invalid(E.password)}),s.createElement(l.Z.Label,{className:"required"},"Password"),c.msg_response(E.password)),s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"Database",value:c.parseObject(j,"database"),onChange:function(e){return _((function(t){return u(u({},t),{},{database:e.target.value})}))},isInvalid:c.is_invalid(E.database)}),s.createElement(l.Z.Label,{className:"required"},"Database"),c.msg_response(E.database)),s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"Port",value:c.parseObject(j,"port"),onChange:function(e){return _((function(t){return u(u({},t),{},{port:e.target.value})}))},isInvalid:c.is_invalid(E.port)}),s.createElement(l.Z.Label,{className:"required"},"Port"),c.msg_response(E.port)),s.createElement(l.Z.Floating,{className:"mb-2"},s.createElement(l.Z.Control,{placeholder:"DB Driver",value:c.parseObject(j,"dbdriver"),onChange:function(e){return _((function(t){return u(u({},t),{},{dbdriver:e.target.value})}))},isInvalid:c.is_invalid(E.dbdriver),as:"select"},c.option_loading(),s.createElement("option",{value:"MySQLi"},"MySQLi"),s.createElement("option",{value:"Postgre"},"Postgre")),s.createElement(l.Z.Label,{className:"required"},"DB Driver"),c.msg_response(E.dbdriver))),s.createElement("div",{className:"offcanvas-footer"},c.buttons("Simpan Data Database",v,{onClick:function(e){e.preventDefault();var t={pageType:i};Object.keys(j).map((function(e){return t[e]=j[e]})),f(!0),c.post("/submit",t,{},!0).then((function(e){var t=e.data;Z(t.errors),c.notification(t.status,t.msg_response),t.status&&(C(),p(!0))})).catch((function(e){c.notification(!1,c.error_code_http(e.response.status),e.code)})).then((function(){f(!1)}))}}))))}}}]);